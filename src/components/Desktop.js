import React, { useEffect, useState } from "react";
import styles from "../styles/Desktop.module.scss";
import Icons from "./Icons";
import About from "./About";
import Work from "./Work";
import Skills from "./Skills";

function Desk() {
  const [aboutOpen, setAboutOpen] = useState(true);
  const [workOpen, setWorkOpen] = useState(false);
  const [skillsOpen, setSkillsOpen] = useState(false);
  const [time, setTime] = useState("9:42");

  useEffect(() => {
    updateTime();
  }, []);

  function updateTime() {
    let date = new Date();
    let hours = date.getHours();
    let minutes = date.getMinutes();
    setTime(hours + ":" + (minutes < 10 ? "0" + minutes : minutes));
    setTimeout(() => updateTime(), 30000);
  }

  return (
    <div id={styles.bg}>
      <div id={styles.reflection}></div>
      <div id={styles.transition}>
        <div id={styles.innerTransition}></div>
      </div>

      <header id={styles.navBar}>
        <svg
          id={styles.svg}
          height='15px'
          xmlns='http://www.w3.org/2000/svg'
          viewBox='0 0 143.19 113.64'
        >
          <defs></defs>
          <path
            class='cls-1'
            d='M81.1,102a23.35,23.35,0,0,0,9,8.59,22.2,22.2,0,0,0,10.09,2.52l.78,0a20.58,20.58,0,0,0,10.84-3.69,21.21,21.21,0,0,0,6.71-7.86,25.56,25.56,0,0,0,2.42-6.85H117.6a23.08,23.08,0,0,1-2,5.33h0a17.89,17.89,0,0,1-5.7,6.71,17.56,17.56,0,0,1-9.12,3.1,18.69,18.69,0,0,1-9.21-2.13,20,20,0,0,1-7.75-7.44,22.68,22.68,0,0,1-2.35-5c-.06-.17-.13-.38-.2-.62H77.88c.2.67.39,1.24.53,1.66A26.15,26.15,0,0,0,81.1,102Z'
          />
          <path
            class='cls-1'
            d='M9.38,94.7q.94,2.92,2,5.79a2.68,2.68,0,0,0,5.17-1c0-1.57,0-3.18.07-4.82Z'
          />
          <path
            class='cls-1'
            d='M125,94.7c0,1.64.08,3.25.07,4.82a2.67,2.67,0,0,0,5.16,1q1.1-2.86,2-5.79Z'
          />
          <path
            class='cls-1'
            d='M61.19,102.54a25.91,25.91,0,0,0,2.69-5.65c.18-.53.43-1.28.68-2.19H61.15c-.11.38-.23.76-.36,1.15a22.39,22.39,0,0,1-2.35,4.94,20,20,0,0,1-7.75,7.45,18.91,18.91,0,0,1-9.21,2.13,17.64,17.64,0,0,1-9.12-3.1,17.83,17.83,0,0,1-5.7-6.72,22.53,22.53,0,0,1-2.08-5.85H21.27a25.76,25.76,0,0,0,2.51,7.38,21.21,21.21,0,0,0,6.71,7.86,20.58,20.58,0,0,0,10.84,3.69h.78a22,22,0,0,0,10.09-2.51C53.65,110.37,57.5,108.36,61.19,102.54Z'
          />
          <path
            class='cls-2'
            d='M123.15,75.76c.34,2.06.66,4.21.93,6.43H119.9a17.1,17.1,0,0,0-4.13-6.37l-.06-.06h-5.57a14.5,14.5,0,0,1,3.36,2.4,15.16,15.16,0,0,1,4,7.09,19.09,19.09,0,0,1,.14,9.45h3.33a22.41,22.41,0,0,0,.15-8.22l3.46.11c.14,1.49.25,3,.34,4.56.07,1.21.11,2.39.15,3.55h7.27Q133.21,91.9,134,89a113.68,113.68,0,0,0,2.72-13.28Z'
          />
          <path
            class='cls-2'
            d='M81.71,81.09a13.53,13.53,0,0,1,4.19-3.92,18.81,18.81,0,0,1,2.48-1.41H82.27a14.7,14.7,0,0,0-3,3.06c-1.45-2.78-6.23-2.59-8.56-2.51s-6.54.26-8.11,2.58a15.69,15.69,0,0,0-3.33-3.13H52.68a18,18,0,0,1,3.71,1.94,13.41,13.41,0,0,1,4.19,3.92c.77,1.2,3.05,4.78.57,13.08h3.41a24.22,24.22,0,0,0,1-7.43,3.07,3.07,0,0,0,.26-.25c.92-1.09.44-2.43.13-3.31l-.12-.34a6.2,6.2,0,0,1-.47-2.64s.28-.47,2-.81a23.46,23.46,0,0,1,3.55-.35,22.14,22.14,0,0,1,3.64.09c1.41.2,1.87.56,1.91.68a4.34,4.34,0,0,1-.09,2c-.06.27-.13.54-.21.79a3.1,3.1,0,0,0,.25,3,2.4,2.4,0,0,0,.4.38,24.75,24.75,0,0,0,1.11,8.17H81.3C80.42,92,78.7,85.79,81.71,81.09Z'
          />
          <path
            class='cls-2'
            d='M24.83,85.77a15.19,15.19,0,0,1,4-7.08,14.8,14.8,0,0,1,4.08-2.75l.4-.18h-6.1l-.65.59a17.51,17.51,0,0,0-4.21,6.59l-4.81.21c.28-2.47.63-4.94,1.05-7.39H5A113.65,113.65,0,0,0,7.71,89q.77,2.85,1.67,5.66h7.28c0-1.16.08-2.34.15-3.55s.15-2.4.25-3.58l4.11-.3a22.37,22.37,0,0,0,.1,7.43h3.31A18.94,18.94,0,0,1,24.83,85.77Z'
          />
          <path
            class='cls-3'
            d='M115.1,56.82a24.14,24.14,0,0,1,2.19,2.55A28.5,28.5,0,0,1,122,69.69q.62,2.91,1.16,6.07H136.7a114.75,114.75,0,0,0,1.13-13.61l-.11,0a35.73,35.73,0,0,0,2.94-5.35Z'
          />
          <path
            class='cls-3'
            d='M53.6,56.82H34.49C40.36,58.45,47.16,58.23,53.6,56.82Z'
          />
          <path
            class='cls-3'
            d='M20.31,67a22.86,22.86,0,0,0,2.29-1.22,21.11,21.11,0,0,0,7.86-8.91H.53A17.84,17.84,0,0,0,4,65.08q.27,5.37,1,10.68H18.54Q19.28,71.34,20.31,67Z'
          />
          <path
            class='cls-3'
            d='M49.75,71.54a29.55,29.55,0,0,0-8.39-.6A24.1,24.1,0,0,0,31.45,73a17.76,17.76,0,0,0-4.29,2.76h6.1a21.15,21.15,0,0,1,8.25-1.56c.61,0,1.32-.06,2.13-.06a23.88,23.88,0,0,1,5.4.58,24.7,24.7,0,0,1,3.64,1h6.63c-.38-.28-.75-.53-1.1-.76A23.35,23.35,0,0,0,49.75,71.54Z'
          />
          <path
            class='cls-3'
            d='M110.83,72.48a23.87,23.87,0,0,0-9.9-2.06,29.46,29.46,0,0,0-8.39.59,23.45,23.45,0,0,0-8.47,3.46c-.54.37-1.16.79-1.8,1.29h6.11a22.26,22.26,0,0,1,4.87-1.57,24.47,24.47,0,0,1,5.4-.58c.81,0,1.52,0,2.13.06a20.77,20.77,0,0,1,8.65,1.75l.71.34h5.57A17.51,17.51,0,0,0,110.83,72.48Z'
          />
          <path
            class='cls-4'
            d='M143.19,43.12a21.7,21.7,0,0,0-1-4.77c0-.16-.11-.31-.17-.47H4.42a31.52,31.52,0,0,0-1.7,2.91A23.64,23.64,0,0,0,0,50.87v1.68A22.62,22.62,0,0,0,.27,55.3c.08.46.16,1,.26,1.52H30.46c.19-.4.38-.81.54-1.23a23.61,23.61,0,0,0,3.49,1.23H53.6c8.82-1.93,17-6.08,21.23-10.76,9,7.4,25.07,10.92,38,8.7a24,24,0,0,1,2.32,2.06h25.56a29.69,29.69,0,0,0,2.53-9.5Z'
          />
          <path
            class='cls-5'
            d='M131.16,24.31a26.18,26.18,0,0,0-2.82-5.37H13.52a22.73,22.73,0,0,0-4.94,6A27.87,27.87,0,0,0,5.16,36.78c-.26.36-.5.73-.74,1.1H142.06A27.91,27.91,0,0,0,131.16,24.31Z'
          />
          <path
            class='cls-6'
            d='M125.69,15.64C116.22,5.69,99.17,4.15,86.11,9,76.47.84,48.13-5.17,31.56,6.57a37.24,37.24,0,0,0-6.84,6.37,29.82,29.82,0,0,0-11.2,6H128.34A26.23,26.23,0,0,0,125.69,15.64Z'
          />
        </svg>

        <p
          onClick={() =>
            window.open(
              "https://www.linkedin.com/in/marco-balbona-calvo-a8283a134/",
              "_blank"
            )
          }
          id={styles.contact}
        >
          Linkedin
        </p>
        <p
          onClick={() =>
            window.open("mailto: marco.balbona@gmail.com", "_blank")
          }
          id={styles.contact}
        >
          E-mail
        </p>
        <p
          onClick={() => window.open("https://dribbble.com/bymarco/", "_blank")}
          id={styles.contact}
        >
          Dribbble
        </p>
        <p
          onClick={() => window.open("https://github.com/MarsHeer", "_blank")}
          id={styles.contact}
        >
          Github
        </p>

        <p id={styles.time}>{time}</p>
      </header>
      {workOpen ? <Work closeWork={() => setWorkOpen(false)} /> : <></>}
      {aboutOpen ? <About closeAbout={() => setAboutOpen(false)} /> : <></>}
      {skillsOpen ? <Skills closeSkills={() => setSkillsOpen(false)} /> : <></>}

      <Icons
        aboutCb={() => setAboutOpen(true)}
        workCb={() => setWorkOpen(true)}
        skillsCb={() => setSkillsOpen(true)}
      />
    </div>
  );
}

export default Desk;
